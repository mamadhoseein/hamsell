# hamsell
ربات برای فروش اکانت وایرگاردو میکروتیک

🤖 Hamsell Panel (پنل Hamsell)

ربات فروش اکانت مایکروتیک (MikroTik) همراه با پنل وب پیشرفته

Hamsell یک پروژه کامل (نوشته شده با پایتون) برای مدیریت و فروش اکانت‌های MikroTik از طریق ربات تلگرام است. این پروژه شامل یک ربات تلگرام برای کاربران و یک پنل وب قدرتمند برای ادمین جهت مدیریت سرویس‌ها، کاربران و تنظیمات می‌باشد.

🌟 ویژگی‌ها

پنل وب کامل: مدیریت تمام جنبه‌های ربات از طریق یک داشبورد تحت وب.

مدیریت سرویس‌ها: راه‌اندازی، توقف و ری‌استارت کردن سرویس ربات و پنل وب مستقیماً از داشبورد.

نصب‌کننده خودکار (Installer): راه‌اندازی آسان پروژه از طریق یک صفحه نصب تحت وب.

ساخت خودکار سرویس: پنل وب به صورت خودکار فایل‌های سرویس systemd را برای اجرای دائمی ربات و پنل ایجاد می‌کند.

مشاهده لاگ‌ها: مشاهده زنده لاگ‌های ربات از طریق پنل وب برای عیب‌یابی آسان.

یکپارچگی با MikroTik: اتصال مستقیم به routeros_api برای ساخت و مدیریت کاربران (در main.py).

مبتنی بر Pyrogram: استفاده از کتابخانه مدرن Pyrogram برای ربات تلگرام.

مبتنی بر Flask: پنل وب سبک و سریع با استفاده از Flask.

📋 پیش‌نیازها

برای نصب و اجرای این پروژه، شما به موارد زیر نیاز دارید:

سرور لینوکس: یک سرور مجازی (VPS) با سیستم‌عامل Ubuntu 20.04 یا Debian 11 (یا بالاتر).

دسترسی Root: دسترسی root یا sudo برای نصب پکیج‌ها و ساخت سرویس‌های systemd.

پایتون: Python 3.10 یا بالاتر.

اطلاعات تلگرام:

BOT_TOKEN (توکن ربات)

API_ID و API_HASH (از my.telegram.org)

MAIN_ADMIN_ID (آیدی عددی اکانت ادمین)

اطلاعات MikroTik: (آی‌پی، نام کاربری و رمز عبور روتر شما)

🚀 راهنمای نصب قدم به قدم

این راهنما شما را از یک سرور خام تا راه‌اندازی کامل پروژه هدایت می‌کند.

مرحله ۱: آماده‌سازی سرور

۱. وارد سرور خود شوید و پکیج‌های سیستم را آپدیت کنید:

sudo apt update && sudo apt upgrade -y


۲. پکیج‌های مورد نیاز پایتون (pip و venv) را نصب کنید:

sudo apt install -y python3-pip python3-venv


مرحله ۲: دریافت سورس و نصب پکیج‌ها

۱. سورس پروژه را از گیت‌هاب کلون کنید (یا فایل‌ها را آپلود کنید):

git clone [آدرس-گیت‌هاب-شما] /root/hamsell
cd /root/hamsell


(ما فرض می‌کنیم پروژه در مسیر /root/hamsell قرار دارد).

۲. یک محیط مجازی (virtual environment) برای پایتون بسازید:

python3 -m venv myenv


۳. محیط مجازی را فعال کنید:

source myenv/bin/activate


۴. تمام پکیج‌های پایتون مورد نیاز پروژه را با استفاده از requirements.txt نصب کنید:

pip install --upgrade pip
pip install -r requirements.txt


مرحله ۳: راه‌اندازی اولیه پنل وب (مهم‌ترین مرحله)

در این مرحله، ما پنل وب را فقط برای یک بار به صورت دستی اجرا می‌کنیم تا بتوانیم مراحل نصب را از طریق مرورگر انجام دهیم.

۱. (فقط برای بار اول) پنل وب را به صورت دستی اجرا کنید:

python3 web_dashboard.py


توجه: ترمینال شما در این حالت مشغول می‌ماند.

۲. مرورگر خود را باز کنید و آدرس http://[YOUR_SERVER_IP]:5000/install را وارد کنید.

۳. شما با یک صفحه‌ی نصب مواجه خواهید شد که درخواست لاگین اولیه دارد. از اطلاعات زیر استفاده کنید:

نام کاربری: admin

رمز عبور: admin

۴. فرم نصب را با تمام اطلاعاتی که در بخش «پیش‌نیازها» آماده کرده‌اید (توکن ربات، API ID، API Hash، آیدی ادمین و ...) پر کنید.

۵. نام کاربری و رمز عبور جدید پنل وب خود را نیز در همین فرم وارد کنید.

۶. دکمه «نصب و راه‌اندازی نهایی» را بزنید.

اتفاقی که پس از زدن دکمه «نصب» می‌افتد:

پنل وب، اطلاعات شما را در یک فایل .env ذخیره می‌کند.

پنل وب، دو فایل سرویس config_bot.service و config_bot_web.service را به صورت خودکار در مسیر /etc/systemd/system/ ایجاد می‌کند.

این سرویس‌ها طوری تنظیم می‌شوند که از محیط مجازی (myenv) شما استفاده کنند.

سرویس ربات (config_bot.service) را start می‌کند.

سرویس پنل وب (config_bot_web.service) را restart می‌کند (که باعث می‌شود اجرای دستی شما در ترمینال متوقف شود و سرویس به پس‌زمینه منتقل گردد).

مرحله ۴: اتمام نصب

۱. پس از چند ثانیه، اجرای دستی اسکریپت در ترمینال شما متوقف می‌شود (یا می‌توانید با Ctrl+C آن را ببندید).
۲. محیط مجازی را غیرفعال کنید:

deactivate


نصب کامل شد! 🎉

🖥️ استفاده از پنل

از این پس، ربات و پنل وب شما به صورت خودکار به عنوان سرویس در پس‌زمینه اجرا می‌شوند و پس از ری‌استارت شدن سرور نیز خودکار فعال خواهند شد.

آدرس پنل: http://[YOUR_SERVER_IP]:5000

لاگین: با استفاده از نام کاربری و رمز عبوری که در مرحله ۳ تنظیم کردید وارد شوید.

مدیریت سرویس‌ها (از طریق SSH)

اگرچه می‌توانید سرویس‌ها را از پنل وب مدیریت کنید، اما می‌توانید از طریق ترمینال نیز وضعیت آن‌ها را بررسی کنید:

بررسی وضعیت ربات:

systemctl status config_bot.service


بررسی وضعیت پنل وب:

systemctl status config_bot_web.service


مشاهده لاگ‌های ربات (برای عیب‌یابی):

journalctl -u config_bot.service -f --no-pager


📄 لایسنس

این پروژه تحت لایسنس MIT منتشر شده است.
